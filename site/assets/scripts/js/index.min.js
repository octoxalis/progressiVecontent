
var PREF_o={restore_b:!0},LIB_o={rootVar__s:e=>window.getComputedStyle(document.documentElement).getPropertyValue(e)||"",rootVar__v:(e,o)=>document.documentElement.style.setProperty(e,o),nodeId__o:(e,o=document)=>o.querySelector("#"+e),id__o:(e,o=document)=>o.querySelector(`[data-id="${e}"]`),data__o:(e,o=document)=>o.querySelector(`[data-${e}]`),hyphen__o:(e,o=document)=>o.querySelector(`[data--=${e}]`),attribute__v(e,o){for(at_a of o)e.setAttribute(at_a[0],at_a[1])},toggle__v:(e,o,t=document)=>LIB_o.hyphen__o(e,t).classList.toggle(o),toggleId__v:(e,o)=>{const t=LIB_o.nodeId__o(e);t&&t.classList.toggle(o)},keyClick__v:e=>{e.addEventListener("keyup",(o=>{13===o.keyCode&&(o.preventDefault(),e.click())}))},invisible__v:(e,o="remove")=>{e.classList[""+o]("invisible")},append__v:(e,o,t)=>{const _=document.createElement(e);document[""+o].appendChild(_),LIB_o.attribute__v(_,t)},adopt__v:(e,o,t)=>{LIB_o.invisible__v(o,"add"),o.addEventListener("load",(()=>{const _=(o.contentDocument.body||o.contentDocument).children[0];e.appendChild(_),(e=>{for(const o of e.querySelectorAll("script[data-node]"))LIB_o[`slot${o.dataset.node}__v`](o.dataset.list.split(" "))})(_),LIB_o.slotInit__v(_),t&&t(e,_),LIB_o.invisible__v(o),o.remove()}))},link__v:e=>{LIB_o.append__v("link","head",[["id",e+"_css"],["rel","stylesheet"],["href",`https://progressivecontent.netlify.app/assets/styles/css/${e}.min.css`]])},slotLink__v:e=>{for(let o of e)!document.querySelector(`link#${o}_css`)&&LIB_o.link__v(o)},script__v:e=>{LIB_o.append__v("script","body",[["id",e+"_js"],["src",`https://progressivecontent.netlify.app/assets/scripts/js/${e}.min.js`]])},slotScript__v:e=>{for(let o of e)!document.querySelector(`script#${o}_js`)&&LIB_o.script__v(o)},slot__v:(e,o,t,_)=>{const s=LIB_o.nodeId__o("sections"),n=document.createElement("iframe");n.src=`/${e}/${o}.html`,n.dataset.slot_n=""+t,s.appendChild(n),LIB_o.adopt__v(s,n,_)},slotInit__v:e=>{const o=e.querySelector("span[data-slot_s]");o&&o.addEventListener("click",(()=>SLOT_o.remove__v(e)));const t=e.querySelectorAll('button[aria-label="unfold image"]');for(const e of t)e.addEventListener("mouseover",(()=>NOTE_o.unfold__v(e)));const _=e.querySelectorAll('a[class="note_link"]');for(const e of _)e.addEventListener("click",(()=>NOTE_o.act_o[""+e.dataset.method](e,""+e.dataset.param))),e.addEventListener("keydown",(()=>e.click()))},scroll__v:(e=!1)=>{const o={top:e?document.documentElement.clientHeight:0,left:0,behavior:"smooth"};window.scroll(o)}},SER_o={types_a:["REGISTER","LOAD","ROUTE","RESTORE","REMOVE"],init__v(e){
//!!! comment out the following line if HTTP dev server supports headers
navigator.serviceWorker.register(e,{scope:"/"}).then((e=>{navigator.serviceWorker.onmessage=e=>SER_o.receive__v(e);const o=window.location.search;o&&SER_o.send__v("LOAD",o)}),(e=>console.log(`ServiceWorker registration failed [error: ${e}]`)))},send__v(e,o=null){navigator?.serviceWorker?.controller?.postMessage({type_s:e,payload_o:o})},receive__v(e){if(!e.data)return console.log("An unidentified message has been sent by the Service Worker");const o=e.data.type_s;if(!SER_o.types_a.includes(o))return console.log("An unknown message type has been sent by Service Worker");SER_o[o+"__v"](e.data.payload_o)},REGISTER__v(e){window.localStorage.setItem("worker_b",e)},RESTORE__v(e){console.time("SER_o.RESTORE__v");
//!!!!!!!!!!!!!!!!!!!!!!
let o=0;for(let t of e){const[e,_]=t;PREF_o.restore_b&&IND_o.load__v(e,_,o,(e=>{SLI_o.slider_c.add__v(e,o,["data-section="+o,"data-slot_s="+e.dataset.slot_s])})),++o}
//!!!!!!!!!!!!!!!!!!!!!!
console.timeEnd("SER_o.RESTORE__v")},REMOVE__v(e){SER_o.send__v("REMOVE",e)}},IND_o={boot__v(){LIB_o.nodeId__o("initial").addEventListener("click",IND_o.initial__v),IND_o.service__v()},initial__v(){IND_o.colorMode__v("hue_base"),IND_o.colorMode__v("lum_mode"),IND_o.unfold__v(),LIB_o.invisible__v(LIB_o.nodeId__o("initial"),"add"),IND_o.listen__v()},unfold__v(e){LIB_o.nodeId__o("section_contents")||IND_o.load__v(),LIB_o.toggleId__v("sections_slider","aside")},load__v(e="sys",o="contents",t=-1,_=null){LIB_o.slot__v(e,o,t,((e,s)=>{s.dataset.slot_n=""+t,s.dataset.slot_s=o,_&&_(s),IND_o.listenSection__v(s),IND_o.toggleSection__v(s),setTimeout((()=>{LIB_o.invisible__v(s)}),20)})),IND_o.clearUrl__v()},colorMode__v(e,o){let t;void 0===o&&(t="hue_base"===e?"220":"1",o=window.localStorage.getItem(e)||t),window.localStorage.setItem(e,o),LIB_o.rootVar__v("--"+e,o)},service__v(){!1 in navigator?window.alert("To visit progressiVecontent, please use a browser with Service Workers enabled"):SER_o.init__v("https://progressivecontent.netlify.app/service_worker.min.js")},listen__v(){LIB_o.nodeId__o("sections_slider").addEventListener("click",(e=>{e.target?.closest("button")?.classList?.contains("step_focus")&&IND_o.unfold__v()}))},listenSection__v(e){e.querySelector("button[data-slot_s]").addEventListener("click",(()=>{e.querySelector("article[data-slot_s]").classList.toggle("retract")}))},toggleSection__v(e){e.querySelector("article[data-slot_s]").classList.toggle("retract"),e.scrollIntoView({behavior:"smooth",block:"start"})},clearUrl__v(){window.location.hash&&window.history.pushState({hash:window.location.hash.slice(1)},"progressiVecontent","https://progressivecontent.netlify.app/")}};!function(){const e=window.localStorage.getItem("worker_b")?"initial":"boot";IND_o[e+"__v"]()}();






