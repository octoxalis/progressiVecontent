
var BOOK_o={init__v(){BOOK_o.cache__v(),BOOK_o.listen__v()},cache__v(){SER_o.CACHE__v({sender_o:BOOK_o,recipient_s:"SWO_o"})},CACHE__v(e){BOOK_o.list__v(Array.from(e)),BOOK_o.dragDrop()},list__v(e){let t="";e.forEach((e=>{const o=e.slice("/slots/".length,-".html".length);t+=`<li draggable="true">${o}</li>`})),document.querySelector("#bookmark_list").innerHTML=t},save__v(){const e=new Set;document.querySelectorAll("#bookmark_list > li").forEach((t=>{e.add(`/slots/${t.textContent}.html`)})),console.log(e)},dragDrop(){let source_e=null;function start(e){this.classList.add("semi_opac"),source_e=this,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",this.innerHTML)}function over(e){return e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function enter(e){this.classList.add("drag_over")}function leave(e){this.classList.remove("drag_over")}function drop(e){return e.stopPropagation(),source_e!==this&&(source_e.innerHTML=this.innerHTML,this.innerHTML=e.dataTransfer.getData("text/html")),!1}function end(e){this.classList.add("full_opac"),list_e.forEach((e=>{e.classList.remove("drag_over")}))}const list_e=document.querySelectorAll("#bookmark_list > li");for(const item_e of list_e)["start","enter","over","leave","end","drop"].forEach((method_s=>{const prefix_s="drop"===method_s?"":"drag";item_e.addEventListener(`${prefix_s}${method_s}`,eval(method_s),!1)}))},listen__v(){document.querySelector("#bookmark_save").addEventListener("click",(e=>{e.preventDefault(),//!!! do not submit form
BOOK_o.save__v()})),document.querySelector("#bookmark_refresh").addEventListener("click",(e=>{e.preventDefault(),//!!! do not submit form
BOOK_o.cache__v()}))}};BOOK_o.init__v();