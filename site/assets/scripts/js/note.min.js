
var NOTE_o={text__v(e){const t=e.target.closest("INS");t&&(NOTE_o.image__v(t),t.querySelector('[data-id="note_content"]').classList.toggle("note_open"))},image__v(e){const t=LIB_o.data__o("isrc",e);if(!t||!t.dataset.isrc)return;const n=t.dataset.isize;if(n){const[e,o]=n.split(" ");if(!e)return;let c=`width:${e}${(""+parseInt(e)).length===e.length?"px":""};`;if(o){c+=` height:${o}${(""+parseInt(o)).length===o.length?"px":""};`}c&&(t.style=c)}const o=t.dataset.isrc;t.src=o,t.removeAttribute("data-isrc");const c=e.querySelector('[data-id="note_content"] > img'),s=c.dataset.isrc;s&&(c.src=s)},unfold__v(e){const t=e.nextElementSibling;if(!t)return;let n=LIB_o.id__o("img_unfold",e);if(!n){for(child_e of(n=document.createElement("span"),n.dataset.id="img_unfold",t.children))if(!child_e.classList.contains("note_link_a")){const e=child_e.cloneNode(!0);n.appendChild(e),"IMG"===child_e.tagName&&(e.src=child_e.dataset.isrc||child_e.dataset.isrc,e.removeAttribute("data-isrc"))}e.appendChild(n)}},act_o:{color__v:(e,t="gray",n="color")=>{const o=e.closest(".note_open");if(!o)return;const c=o.querySelector("img");let s=c.src;if(!s.includes(t))return;s=s.replace(t,n),c.src=s,e.classList.add("unseen"),e.onclick=()=>!1;const i=LIB_o.id__o("img_unfold",o.parentNode);i&&(i.querySelector("img").src=s,o.classList.remove("note_open"))}}};document.querySelector("#sections").addEventListener("click",NOTE_o.text__v);