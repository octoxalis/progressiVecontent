
var NOTE_o={text__v(e){const t=e.target.closest("INS");t&&(NOTE_o.image__v(t),t.querySelector('[data-id="note_content"]').classList.toggle("note_open"))},image__v(e){const t=LIB_o.data__o("isrc",e);if(!t||!t.dataset.isrc)return;const o=t.dataset.isize;if(o){const[e,c]=o.split(" ");if(!e)return;let i=`width:${e}${(""+parseInt(e)).length===e.length?"px":""};`;if(c){i+=` height:${c}${(""+parseInt(c)).length===c.length?"px":""};`}i&&(t.style=i)}const c=t.dataset.isrc;t.src=c,t.removeAttribute("data-isrc");const i=e.querySelector('[data-id="note_content"] > img'),n=i.dataset.isrc;n&&(i.src=n)},unfold__v(e){const t=e.nextElementSibling;if(!t)return;let o=LIB_o.id__o("img_unfold",e);if(!o){for(child_e of(o=document.createElement("i"),o.dataset.id="img_unfold",t.children))if(!child_e.classList.contains("note_link_a")){const e=child_e.cloneNode(!0);o.appendChild(e),"IMG"===child_e.tagName&&(e.src=child_e.dataset.isrc||child_e.dataset.isrc,e.removeAttribute("data-isrc"))}e.appendChild(o)}},act_o:{color__v:(e,t="gray",o="color")=>{const c=e.closest(".note_open");if(!c)return;const i=c.querySelector("img");let n=i.src;if(!n.includes(t))return;n=n.replace(t,o),i.src=n,e.classList.add("unseen"),e.onclick=()=>!1;const s=LIB_o.id__o("img_unfold",c.parentNode);s&&(s.querySelector("img").src=n,c.classList.remove("note_open"))}}};document.querySelector("#sections").addEventListener("click",NOTE_o.text__v);